% crochet

effect purr-ui-presentation with
  commit(widget is widget); // -> rendered-widget
  show(widget is widget); // -> nothing
end

capability ui-control;

singleton purr-ui;
protect type purr-ui with ui-control;
protect global purr-ui with ui-control;


command purr-ui show: (Widget has to-widget) do
  perform purr-ui-presentation.show(Widget as widget | commit);
  self;
end