% crochet

// -- List

implement sequence for list;

/// The first element of the list.
command list first = self at: 1
test
  assert [1] first =:= 1;
  assert [1, 2, 3] first =:= 1;
end

/// Returns a list which contains all elements after the first one.
command list rest =
  condition
    when self count < 2 => [];
    always => self slice-from: 2 to: self count;
  end
test
  assert [] rest =:= [];
  assert [1] rest =:= [];
  assert [1, 2, 3] rest =:= [2, 3];
end

