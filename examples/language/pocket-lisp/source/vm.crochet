% crochet

command pocket-lisp with-panic-on-error: (Block is (() -> A)) do
  handle
    Block();
  with
    on pocket-lisp.raw-raise(Error) =>
      panic: (pocket-lisp format-error: Error) tag: "runtime-error";
    
    on pocket-lisp.raise(Frame, Form, Error) =>
      panic: (pocket-lisp format-error: Error frame: Frame form: Form) tag: "runtime-error";
  end
end